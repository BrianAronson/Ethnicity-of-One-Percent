Data SIPPTEMP;
set SIPPTEMP;
		if  tbrstate=209 | tbrstate=238 then HongKongTaiwan=1;
			else if tbrstate~=. then HongKongTaiwan=0;
		if  tbrstate=207 then Chinese=1;
			else if tbrstate~=. then Chinese=0;
		if  tbrstate=231 then Philippines=1;
			else if tbrstate~=. then Philippines=0;
		if  tbrstate=215 then Japan=1;
			else if tbrstate~=. then Japan=0;
		if  tbrstate=210 then India=1;
			else if tbrstate~=. then India=0;
		if  tbrstate=217 then Korea=1;
			else if tbrstate~=. then Korea=0;
		if  tbrstate=242 then Vietnam=1;
			else if tbrstate~=. then Vietnam=0;
		if  tbrstate=339 then DominicanRepublic=1;
			else if tbrstate~=. then DominicanRepublic=0;
		if  tbrstate=337 then Cuba=1;
			else if tbrstate~=. then Cuba=0;
		if  tbrstate=312 then ElSalvador=1;
			else if tbrstate~=. then ElSalvador=0;
		if  tbrstate=315 then Mexico=1;
			else if tbrstate~=. then Mexico=0;
*Natives;
		if tbrstate <100 & White=1 & tbrstate~=. then NativeWhite=1;
			else if tbrstate~=. then NativeWhite=0;
		if tbrstate<100 & Black=1 & tbrstate~=. then NativeBlack=1;
			else if tbrstate~=. then NativeBlack=0;
*Ethnicity variable for looping through proc means by ethnicity and Ethnicity Variable For Models;
		if  Chinese=1 then do;
			Ethnicity1='Mainland Chinese';
			Ethnicity=1;
			MainlandChinese=1;
			end;
			else if tbrstate~=. then MainlandChinese=0;
		if  HongKongTaiwan=1 then do; 
			Ethnicity1='HK-Taiwan';
			Ethnicity=2;
			HKTaiwan=1;
			end;
			else if tbrstate~=. then HKTaiwan=0;
		if  India=1 then do;
			Ethnicity1='Asian Indian';
			Ethnicity=3;
			AsianIndian=1;
			end;
			else if tbrstate~=. then AsianIndian=0;
		if  tbrstate=>200 & tbrstate<300 & India~=1 & HongKongTaiwan~=1 & Chinese~=1 then do;
			Ethnicity1='Other Asian';
			Ethnicity=4;
			OtherAsian=1;
			end;
			else if tbrstate~=. then OtherAsian=0;
		if  Asian=1 & tbrstate<100 & tbrstate~=. then do;
			Ethnicity1='Native Asian'; 
			Ethnicity=5;
			NativeAsian=1;
			end;
			else if tbrstate~=. then NativeAsian=0;
		if  Mexico=1 then do;
			Ethnicity1='Mexican';
			Ethnicity=6;
			Mexican=1;
			end;
			else if tbrstate~=. then Mexican=0;
		if  Cuba=1 then do; 
			Ethnicity1='Cuban';
			Ethnicity=7;
			Cuban=1;
			end;
			else if tbrstate~=. then Cuban=0;
	/*	if  tbrstate=>300 & tbrstate<400 & Mexico~=1 & Cuba~=1 then do;
			Ethnicity1='Other Latino';
			Ethnicity=8;
			OtherLatino=1;
			end;
			else if tbrstate~=. then OtherLatino=0;
	*/	if  Latino=1 & tbrstate<100 & tbrstate~=. then do;
			Ethnicity1='Native Latino';
			Ethnicity=9;
			NativeLatino=1;
			end;
			else if tbrstate~=. then NativeLatino=0;
		if  tbrstate=>100 & (Ethnicity<1 | Ethnicity>9 | Ethnicity=.) then do; 
			Ethnicity1='Other Immigrants';
			Ethnicity=10;
			OtherImmigrants=1;
			end;
			else if tbrstate~=. then OtherImmigrants=0;
		if  NativeBlack=1 then do; 
			Ethnicity1="Reference Category-Native Black";
			Ethnicity=11;
			NativeBlack=1;
			end;
			else if tbrstate~=. then NativeBlack=0;
		if  NativeWhite=1 then do;
			Ethnicity1='Native White';
			Ethnicity=12;
			NativeWhite=1;
			end;
			else if tbrstate~=. then NativeWhite=0;
*		if  tbrstate=. then do;
*			Ethnicity1='Missing Ethnicity';
*			Ethnicity=13;
*			MissingEthnicity=1;
*			end;
*			else MissingEthnicity=0;
run;

*No Native American variable makes these add up to about 99% of the population.;
*data SIPP.SIPPTemp;
*	set SIPPTemp;
*run;
